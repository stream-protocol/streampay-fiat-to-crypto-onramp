import {loadScript, initStripeOnramp, LoadStripeOnramp} from './shared';
import {loadStripe} from '@stripe/stripe-js/pure';

export const loadStripeOnramp: LoadStripeOnramp = (...args) => {
  const startTime = Date.now();

  return Promise.all([loadStripe(...args), loadScript()]).then(
    ([, maybeStripeOnramp]) =>
      initStripeOnramp(maybeStripeOnramp, args, startTime)
  );
};
